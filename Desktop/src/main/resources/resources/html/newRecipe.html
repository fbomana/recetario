<link rel="stylesheet" href="/css/newRecipe.css"/>
<script src="/js/vue.min.js"></script>
<script src="/js/marked.min.js"></script>
<section id="formSection" style="left">
  <div class="contentBox">
    <h1>New Recipe</h1>
    <form method="post" action="/recipes/NewRecipe" name="newRecipe">
        <input type="hidden" name="post" value="NewRecipe"/>
        <label for="title">Title:<br>
            <input type="text" value="" required id="title" name="title"/>
        </label><br>
        <label for="content" id="editor">Content:<br>
            <textarea required id="content" name="content" v-model="input" debounce="300"></textarea>
            <div v-html="input | marked" id="preview"></div>
        </label><br>
        <label for="tags">Tags:<br>
            <input type="text" value="" required id="tags" pattern="[a-zA-Z0-9\-_]+(?:\s*,\s*[a-zA-Z0-9\-_]+)*" name="tags"/><input type="button" id="tagSearch"/>
        </label><br>
        <input type="submit" value="enviar"/>
    </form>
  </div>
</section>

<section id="previewSection" style="right">
    <div class="contentBox">
    <h1>Preview</h1>
    </div>
</section>
<script>


function resizeElements( event )
{
  document.getElementById("content").style.height = window.innerHeight / 2  + "px";
  document.getElementById("preview").style.top = document.getElementById("previewSection").getBoundingClientRect().top + "px";
  document.getElementById("preview").style.left = document.getElementById("previewSection").getBoundingClientRect().left + "px";
  var ancho = window.innerWidth - document.getElementById("previewSection").getBoundingClientRect().left;
  
  document.getElementById("preview").style.width = ( ancho -50 ) + "px";
  document.getElementById("preview").style.height = window.innerHeight * 3 / 4 + "px";
}

window.onresize = resizeElements;
window.onload = resizeElements;
new Vue({
  el: '#editor',
  data: {
    input: '# hello'
  },
  filters: {
    marked: marked
  }
})
</script>